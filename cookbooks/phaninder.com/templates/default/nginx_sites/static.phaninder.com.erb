server {
  listen 80;
  listen [::]:80;
 
  # Index files.
  index index.html;
 
  # Domain names.
  # Make sure to set the A Record on your domain's DNS settings to your server's IP address.
  # You can test if was set properly by using the `dig` command: dig yourdomain.com
  server_name <%= node[:myblog][:static] %>;
 
  # Timeout for closing keep-alive connections.
  keepalive_timeout 10;
  
  # Enable gzip compression.
  gzip on;
  gzip_http_version 1.1;
  gzip_vary on;
  gzip_comp_level 6;
  gzip_proxied any;
  gzip_buffers 16 8k;
  gzip_disable "MSIE [1-6]\.(?!.*SV1)";
  
  # Max upload size.
  # client_max_body_size 16M;
 
  # Access and error log files.
  access_log /var/log/nginx/phaninder.com-access.log;
  error_log /var/log/nginx/phaninder.com-error.log;
 
  # Custom error page.
  # error_page 404 maintenance.html;
  # error_page 500 502 503 504 maintenance.html;
  
  # location /maintenance.html {
  #  root /var/www;
  # }

  location / {
    root /var/www/<%= node[:myblog][:static] %>;
  }
 
  # Enable caching of static files.
  # location ~* \.(css|js|gif|jpe?g|png)$ {
  #   access_log off;
  #   expires 168h;
  #   add_header Pragma public;
  #   add_header Cache-Control "public, must-revalidate, proxy-revalidate";
  # }
  
  # Don't cache html files.
  # location ~* \.html$ {
  #  expires -1;
  # }
}