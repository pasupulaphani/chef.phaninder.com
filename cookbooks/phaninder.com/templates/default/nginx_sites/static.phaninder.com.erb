server {
  listen 80;
  listen [::]:80;

  server_name <%= node[:myblog][:static] %>;
  
  # Max upload size.
  # client_max_body_size 16M;
 
  # Access and error log files.
  access_log /var/log/nginx/<%= node[:myblog][:static] %>-access.log;
  error_log /var/log/nginx/<%= node[:myblog][:static] %>-error.log;
 
  # Custom error page.
  # error_page 404 maintenance.html;
  # error_page 500 502 503 504 maintenance.html;
  
  # location /maintenance.html {
  #  root /var/www;
  # }

  location / {
    root /var/www/<%= node[:myblog][:static] %>/current/public/;
    access_log off;
    expires max;
    add_header Pragma public;
    add_header Cache-Control "public, must-revalidate, proxy-revalidate";
  }

  # Don't cache html files.
  # location ~* \.html$ {
  #  expires -1;
  # }
}